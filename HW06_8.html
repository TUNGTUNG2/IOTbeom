<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>계산기 만들기</title>
        <style>
            table {
                text-align: center;
                border: 0;
                width: 300px;
            }

            tr {
                text-align: center;
            }

            td {
                width: 80px;
            }

            input[type=button] {
                width: 60px;
            }
        </style>
    </head>
    <body>
        <h3>계산기 만들기</h3>
        <hr>
        <form name="cal">
            <table>
                <tr><td colspan="4"><input type="text" id="lcd" value="0" size="50"></td></tr>
                <tr>
                    <td><input type="button" id="back" value="BACK" onclick="backward()"></td>
                    <td><input type="button" id="ce" value="CE" onclick="ClearLCD()"></td>
                    <td><input type="button" id="c" value="C" onclick="ClearLCD()"></td>
                    <td><input type="button" id="equal" value="=" onclick="calc()"></td> 
                </tr>
                <tr>
                    <td><input type="button" id="seven" value="7" onclick="addInput(this.value)"></td>
                    <td><input type="button" id="eight" value="8" onclick="addInput(this.value)"></td>
                    <td><input type="button" id="nine" value="9" onclick="addInput(this.value)"></td>
                    <td><input type="button" id="divide" value="/" onclick="addInput(this.value)"></td>
                </tr>
                <tr>
                    <td><input type="button" id="four" value="4" onclick="addInput(this.value)"></td>
                    <td><input type="button" id="five" value="5" onclick="addInput(this.value)"></td>
                    <td><input type="button" id="six" value="6" onclick="addInput(this.value)"></td>
                    <td><input type="button" id="mul" value="*" onclick="addInput(this.value)"></td>
                </tr>
                <tr>
                    <td><input type="button" id="one" value="1" onclick="addInput(this.value)"></td>
                    <td><input type="button" id="two" value="2" onclick="addInput(this.value)"></td>
                    <td><input type="button" id="three" value="3" onclick="addInput(this.value)"></td>
                    <td><input type="button" id="min" value="-" onclick="addInput(this.value)"></td>
                </tr>
                <tr>
                    <td><input type="button" id="zero" value="0" onclick="addInput(this.value)"></td>
                    <td><input type="button" id="sqrt" value="." onclick="addInput(this.value)"></td>
                    <td><input type="button" id="pow" value="POW" onclick="addInput('**')"></td>
                    <td><input type="button" id="plus" value="+" onclick="addInput(this.value)"></td>
                </tr>
            </table>
        </form>
        <script>
            let addInput = (b) => {
                var lcd = document.querySelector("#lcd");
                if (lcd.value == "0") {
                    if(b=='.') {
                        lcd.value += b;
                        return;
                    }
                    lcd.value = b;
                }
                else {
                    lcd.value += b;
                }
            }

            let backward = () => {
                var lcd = document.querySelector("#lcd");
                if (lcd.value.length == 0)
                    return;
                else if (lcd.value.length == 1)
                    lcd.value = "0";
                else
                    lcd.value =  lcd.value.substr(0, lcd.value.length - 1);
            }

            let ClearLCD = () => {
                var lcd = document.querySelector("#lcd");
                lcd.value = "0";
            }

            let calc = () => {
                var lcd = document.getElementById("lcd");
                lcd.value = eval(lcd.value);
            }
        </script>
    </body>